name: Build & Run LAB9
run-name: Quelques tests de ${{ github.actor }} 
on: [push]
jobs:

  install-job:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    - name: Install pnpm
      uses: pnpm/action-setup@v4

    - name: Use Node.js 
      uses: actions/setup-node@v4

    - name: Install dependencies
      run: pnpm install

    - name: static-typing
      run: pnpm type-check

    - name: lint-job
      run: pnpm lint

    - name: build-job
      run: pnpm build
      #cache:
      #<<: *global_cache
      #policy: pull-push

      #artifacts:
      #paths:
      #- dist/
      
    - name: test-job
      run: pnpm test
      # default:
      #   image: node:latest
      #   cache: &global_cache
      #     key:
      #       files:
      #         - pnpm-lock.yaml
      #     paths:
      #       - .pnpm-store
      #       - node_modules/
      #     policy: pull
      #   before_script:
      #     - corepack enable
      #     - corepack prepare pnpm@latest-10 --activate
      #     - pnpm config set store-dir .pnpm-store
      #     - pnpm install
      
      
      
      
      