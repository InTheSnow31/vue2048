name: Build & Run LAB9
run-name: Quelques tests de ${{ github.actor }} 
on: [push]
jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest
    steps:
      - run: echo "ğŸ‰ The job was automatically triggered by a ${{ github.event_name }} event."
      - run: echo "ğŸ§ This job is now running on a ${{ runner.os }} server hosted by GitHub!"
      - run: echo "ğŸ” The name of your branch is ${{ github.ref }} and your repository is ${{ github.repository }}."
      - name: Check out repository code
        uses: actions/checkout@v4
      - run: echo "ğŸ’¡ The ${{ github.repository }} repository has been cloned to the runner."
      - run: echo "ğŸ–¥ï¸ The workflow is now ready to test your code on the runner."
      - name: List files in the repository
        run: |
          ls ${{ github.workspace }}
      - run: echo "ğŸ This job's status is ${{ job.status }}."

  static-typing-job:
    runs-on: ubuntu-latest
    steps:
      - run: pnpm type-check

  lint-job:
    runs-on: ubuntu-latest
    steps:
      - run: pnpm lint
      
  build-job:
    runs-on: ubuntu-latest
    #cache:
      #<<: *global_cache
      #policy: pull-push
    steps:
      - run: pnpm build
    #artifacts:
      #paths:
      #- dist/
      
  test-job:
    runs-on: ubuntu-latest
    steps:
      - run: pnpm test

      # stages:
      #   - build
      #   - static-typing
      #   - lint
      #   - test
      #   - publish
      
      # default:
      #   image: node:latest
      #   cache: &global_cache
      #     key:
      #       files:
      #         - pnpm-lock.yaml
      #     paths:
      #       - .pnpm-store
      #       - node_modules/
      #     policy: pull
      #   before_script:
      #     - corepack enable
      #     - corepack prepare pnpm@latest-10 --activate
      #     - pnpm config set store-dir .pnpm-store
      #     - pnpm install
      
      
      
      
      